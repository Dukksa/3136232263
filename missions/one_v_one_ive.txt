one_v_one_mission_s1_1_ive = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		OR = { tag = IVE tag = IVV tag = IVF tag = IVT tag = IVD }
	}
	has_country_shield = yes

	one_v_one_mission_s1_nation_select_1_ive = {
		icon = one_v_one_mission_flag_ivv
		required_missions = { }
		trigger = {
			if = {
				limit = { OR = { has_country_flag = ive_chose_nation_ivv_flag has_country_flag = ive_chose_nation_ivf_flag has_country_flag = ive_chose_nation_ivt_flag has_country_flag = ive_chose_nation_ivd_flag } }
				custom_trigger_tooltip = {
					tooltip = one_v_one_already_chose_nation_flag_tt
					always = no
				}
			}
			else = { OR = { tag = IVE tag = IVV } }
			custom_trigger_tooltip = {
				tooltip = one_v_one_nation_choosing_flag_tt
				has_global_flag = ige_nation_choosing_flag
				has_global_flag = ive_nation_choosing_flag 
			}
			if = {
				limit = { has_global_flag = ige_ban_ivv_flag }
				custom_trigger_tooltip = {
					tooltip = one_v_one_nation_banned_flag_tt
					always = no
				}
			}
		}
		effect = {
			set_country_flag = ive_chose_nation_ivv_flag
			set_global_flag = ive_chose_nation_flag
			custom_tooltip = one_v_one_chose_nation_flag_tt
			tooltip = { one_v_one_ive_mission_select_ivv_tag = yes }
			hidden_effect = {
				if = {
					limit = { has_global_flag = ige_chose_nation_flag }
					one_v_one_ive_mission_select_ivv_tag = yes
					IGE = {
						if = {
							limit = { has_country_flag = ige_chose_nation_igs_flag }
							one_v_one_ige_mission_select_igs_tag = yes
						}
						if = {
							limit = { has_country_flag = ige_chose_nation_igl_flag }
							one_v_one_ige_mission_select_igl_tag = yes
						}
						if = {
							limit = { has_country_flag = ige_chose_nation_igt_flag }
							one_v_one_ige_mission_select_igt_tag = yes
						}
						if = {
							limit = { has_country_flag = ige_chose_nation_igp_flag }
							one_v_one_ige_mission_select_igp_tag = yes
						}
					}
				}
			}
		}
	}
}
one_v_one_mission_s1_2_ive = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		OR = { tag = IVE tag = IVV tag = IVF tag = IVT tag = IVD }
	}
	has_country_shield = yes

	one_v_one_mission_s1_nation_select_2_ive = {
		icon = one_v_one_mission_flag_ivf
		required_missions = { }
		trigger = {
			if = {
				limit = { OR = { has_country_flag = ive_chose_nation_ivv_flag has_country_flag = ive_chose_nation_ivf_flag has_country_flag = ive_chose_nation_ivt_flag has_country_flag = ive_chose_nation_ivd_flag } }
				custom_trigger_tooltip = {
					tooltip = one_v_one_already_chose_nation_flag_tt
					always = no
				}
			}
			else = { OR = { tag = IVE tag = IVF } }
			custom_trigger_tooltip = {
				tooltip = one_v_one_nation_choosing_flag_tt
				has_global_flag = ige_nation_choosing_flag
				has_global_flag = ive_nation_choosing_flag 
			}
			if = {
				limit = { has_global_flag = ige_ban_ivf_flag }
				custom_trigger_tooltip = {
					tooltip = one_v_one_nation_banned_flag_tt
					always = no
				}
			}
		}
		effect = {
			set_country_flag = ive_chose_nation_ivf_flag
			set_global_flag = ive_chose_nation_flag
			custom_tooltip = one_v_one_chose_nation_flag_tt
			tooltip = { one_v_one_ive_mission_select_ivf_tag = yes }
			hidden_effect = {
				if = {
					limit = { has_global_flag = ige_chose_nation_flag }
					one_v_one_ive_mission_select_ivf_tag = yes
					IGE = {
						if = {
							limit = { has_country_flag = ige_chose_nation_igs_flag }
							one_v_one_ige_mission_select_igs_tag = yes
						}
						if = {
							limit = { has_country_flag = ige_chose_nation_igl_flag }
							one_v_one_ige_mission_select_igl_tag = yes
						}
						if = {
							limit = { has_country_flag = ige_chose_nation_igt_flag }
							one_v_one_ige_mission_select_igt_tag = yes
						}
						if = {
							limit = { has_country_flag = ige_chose_nation_igp_flag }
							one_v_one_ige_mission_select_igp_tag = yes
						}
					}
				}
			}
		}
	}
}
one_v_one_mission_s1_3_ive = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		tag = IVE
	}
	has_country_shield = yes

	one_v_one_mission_s1_construct_ive = {
		icon = mission_colonial
		required_missions = { one_v_one_mission_s1_nation_select_1_ive one_v_one_mission_s1_nation_select_2_ive one_v_one_mission_s1_nation_select_3_ive one_v_one_mission_s1_nation_select_4_ive }
		position = 2
		trigger = {
		}
		effect = {
			add_country_modifier = { name = one_v_one_mission_construct_modifier duration = 3650 }
			add_country_modifier = { name = one_v_one_mission_construct_idea_cost_modifier duration = 1 }
		}
	}
}
one_v_one_mission_s1_4_ive = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		OR = { tag = IVE tag = IVV tag = IVF tag = IVT tag = IVD }
	}
	has_country_shield = yes

	one_v_one_mission_s1_nation_select_3_ive = {
		icon = one_v_one_mission_flag_ivt
		required_missions = { }
		trigger = {
			if = {
				limit = { OR = { has_country_flag = ive_chose_nation_ivv_flag has_country_flag = ive_chose_nation_ivf_flag has_country_flag = ive_chose_nation_ivt_flag has_country_flag = ive_chose_nation_ivd_flag } }
				custom_trigger_tooltip = {
					tooltip = one_v_one_already_chose_nation_flag_tt
					always = no
				}
			}
			else = { OR = { tag = IVE tag = IVT } }
			custom_trigger_tooltip = {
				tooltip = one_v_one_nation_choosing_flag_tt
				has_global_flag = ige_nation_choosing_flag
				has_global_flag = ive_nation_choosing_flag 
			}
			if = {
				limit = { has_global_flag = ige_ban_ivt_flag }
				custom_trigger_tooltip = {
					tooltip = one_v_one_nation_banned_flag_tt
					always = no
				}
			}
		}
		effect = {
			set_country_flag = ive_chose_nation_ivt_flag
			set_global_flag = ive_chose_nation_flag
			custom_tooltip = one_v_one_chose_nation_flag_tt
			tooltip = { one_v_one_ive_mission_select_ivt_tag = yes }
			hidden_effect = {
				if = {
					limit = { has_global_flag = ige_chose_nation_flag }
					one_v_one_ive_mission_select_ivt_tag = yes
					IGE = {
						if = {
							limit = { has_country_flag = ige_chose_nation_igs_flag }
							one_v_one_ige_mission_select_igs_tag = yes
						}
						if = {
							limit = { has_country_flag = ige_chose_nation_igl_flag }
							one_v_one_ige_mission_select_igl_tag = yes
						}
						if = {
							limit = { has_country_flag = ige_chose_nation_igt_flag }
							one_v_one_ige_mission_select_igt_tag = yes
						}
						if = {
							limit = { has_country_flag = ige_chose_nation_igp_flag }
							one_v_one_ige_mission_select_igp_tag = yes
						}
					}
				}
			}
		}
		ai_weight = {
			factor = 0
		}
	}
}
one_v_one_mission_s1_5_ive = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		OR = { tag = IVE tag = IVV tag = IVF tag = IVT tag = IVD }
	}
	has_country_shield = yes

	one_v_one_mission_s1_nation_select_4_ive = {
		icon = one_v_one_mission_flag_ivd
		required_missions = { }
		trigger = {
			if = {
				limit = { OR = { has_country_flag = ive_chose_nation_ivv_flag has_country_flag = ive_chose_nation_ivf_flag has_country_flag = ive_chose_nation_ivt_flag has_country_flag = ive_chose_nation_ivd_flag } }
				custom_trigger_tooltip = {
					tooltip = one_v_one_already_chose_nation_flag_tt
					always = no
				}
			}
			else = { OR = { tag = IVE tag = IVD } }
			custom_trigger_tooltip = {
				tooltip = one_v_one_nation_choosing_flag_tt
				has_global_flag = ige_nation_choosing_flag
				has_global_flag = ive_nation_choosing_flag 
			}
			if = {
				limit = { has_global_flag = ige_ban_ivd_flag }
				custom_trigger_tooltip = {
					tooltip = one_v_one_nation_banned_flag_tt
					always = no
				}
			}
		}
		effect = {
			set_country_flag = ive_chose_nation_ivd_flag
			set_global_flag = ive_chose_nation_flag
			custom_tooltip = one_v_one_chose_nation_flag_tt
			tooltip = { one_v_one_ive_mission_select_ivd_tag = yes }
			hidden_effect = {
				if = {
					limit = { has_global_flag = ige_chose_nation_flag }
					one_v_one_ive_mission_select_ivd_tag = yes
					IGE = {
						if = {
							limit = { has_country_flag = ige_chose_nation_igs_flag }
							one_v_one_ige_mission_select_igs_tag = yes
						}
						if = {
							limit = { has_country_flag = ige_chose_nation_igl_flag }
							one_v_one_ige_mission_select_igl_tag = yes
						}
						if = {
							limit = { has_country_flag = ige_chose_nation_igt_flag }
							one_v_one_ige_mission_select_igt_tag = yes
						}
						if = {
							limit = { has_country_flag = ige_chose_nation_igp_flag }
							one_v_one_ige_mission_select_igp_tag = yes
						}
					}
				}
			}
		}
	}
}
##
one_v_one_mission_s1_3_ivv = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		tag = IVV
	}
	has_country_shield = yes

	one_v_one_mission_s1_construct_ivv = {
		icon = mission_colonial
		required_missions = { one_v_one_mission_s1_nation_select_1_ive }
		position = 2
		trigger = {
		}
		effect = {
			add_country_modifier = { name = one_v_one_mission_construct_modifier duration = 3650 }
			add_country_modifier = { name = one_v_one_mission_construct_idea_cost_modifier duration = 1 }
		}
	}
}
one_v_one_mission_s1_3_ivf = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		tag = IVF
	}
	has_country_shield = yes

	one_v_one_mission_s1_construct_ivf = {
		icon = mission_colonial
		required_missions = { one_v_one_mission_s1_nation_select_2_ive }
		position = 2
		trigger = {
		}
		effect = {
			add_country_modifier = { name = one_v_one_mission_construct_modifier duration = 3650 }
			add_country_modifier = { name = one_v_one_mission_construct_idea_cost_modifier duration = 1 }
		}
	}
}
one_v_one_mission_s1_3_ivt = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		tag = IVT
	}
	has_country_shield = yes

	one_v_one_mission_s1_construct_ivt = {
		icon = mission_colonial
		required_missions = { one_v_one_mission_s1_nation_select_3_ive }
		position = 2
		trigger = {
		}
		effect = {
			add_country_modifier = { name = one_v_one_mission_construct_modifier duration = 3650 }
			add_country_modifier = { name = one_v_one_mission_construct_idea_cost_modifier duration = 1 }
		}
	}
}
one_v_one_mission_s1_3_ivd = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		tag = IVD
	}
	has_country_shield = yes

	one_v_one_mission_s1_construct_ivd = {
		icon = mission_colonial
		required_missions = { one_v_one_mission_s1_nation_select_4_ive }
		position = 2
		trigger = {
		}
		effect = {
			add_country_modifier = { name = one_v_one_mission_construct_modifier duration = 3650 }
			add_country_modifier = { name = one_v_one_mission_construct_idea_cost_modifier duration = 1 }
		}
	}
}
##################
# Mission bonuses:
one_v_one_mission_s1_1_ivv_bonus = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		tag = IVV
	}
	has_country_shield = yes

	one_v_one_mission_s1_1_ivv_bonus_1 = {
		icon = mission_marines
		required_missions = { one_v_one_mission_s1_construct_ivv }
		position = 3
		trigger = {
			num_of_marines = 20
			num_of_owned_provinces_with = {
				value = 10
				has_dock_building_trigger = yes
			}
			num_of_owned_provinces_with = {
				value = 2
				has_building = impressment_offices
			}
		}
		effect = {
			add_sailors = 15000
			add_country_modifier = { name = one_v_one_mission_s1_1_ivv_bonus_1_modifier duration = -1 }
		}
	}
}
one_v_one_mission_s1_3_ivv_bonus = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		tag = IVV
	}
	has_country_shield = yes

	one_v_one_mission_s1_3_ivv_bonus_2 = {
		icon = mission_raid_on_genoa
		required_missions = { one_v_one_mission_s1_construct_ivv }
		position = 3
		provinces_to_highlight = {
			area = emilia_romagna_area
			NOT = { controlled_by = ROOT }
		}
		trigger = {
			emilia_romagna_area = { type = all controlled_by = ROOT }
			101 = { is_blockaded_by = ROOT }
		}
		effect = {
			add_sailors = 15000
			add_country_modifier = { name = one_v_one_mission_s1_3_ivv_bonus_2_modifier duration = 1825 }
			add_country_modifier = { name = one_v_one_mission_s1_3_ivv_bonus_22_modifier duration = -1 }
		}
	}
}
one_v_one_mission_s1_5_ivv_bonus = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		tag = IVV
	}
	has_country_shield = yes

	one_v_one_mission_s1_5_ivv_bonus_3 = {
		icon = expand_the_arsenal
		required_missions = { one_v_one_mission_s1_construct_ivv }
		position = 3
		trigger = {
			num_of_owned_provinces_with = {
				value = 10
				has_shipyard_building_trigger = yes
			}
		}
		effect = {
			add_sailors = 15000
			112 = {
				galleass_galley = ROOT
				galleass_galley = ROOT
				galleass_galley = ROOT
				galleass_galley = ROOT
				galleass_galley = ROOT
				galleass_galley = ROOT
				galleass_galley = ROOT
				galleass_galley = ROOT
				galleass_galley = ROOT
				galleass_galley = ROOT
			}
		}
	}
}
##
one_v_one_mission_s1_1_ivf_bonus = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		tag = IVF
	}
	has_country_shield = yes

	one_v_one_mission_s1_1_ivf_bonus_1 = {
		icon = protect_against_austria
		required_missions = { one_v_one_mission_s1_construct_ivf }
		position = 3
		provinces_to_highlight = {
			province_id = 113
			NOT = { has_building = fort_15th }
			NOT = { has_building = ramparts }
			NOT = { development = 30 }
		}
		trigger = {
			113 = { has_building = fort_15th has_building = ramparts development = 30 }
		}
		effect = {
			custom_tooltip = one_v_one_mission_s1_1_ivf_bonus_1_tt
			113 = { add_building = fort_16th add_province_modifier = { name = one_v_one_mission_s1_1_ivf_bonus_1_modifier duration = -1 } }
			hidden_effect = { every_owned_province = { add_province_modifier = { name = one_v_one_mission_s1_1_ivf_bonus_11_modifier duration = -1 } } }
		}
	}
}
one_v_one_mission_s1_3_ivf_bonus = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		tag = IVF
	}
	has_country_shield = yes

	one_v_one_mission_s1_3_ivf_bonus_2 = {
		icon = mission_italian_condottiere
		required_missions = { one_v_one_mission_s1_construct_ivf }
		position = 3
		trigger = {
			army_professionalism = 0.5
		}
		effect = {
			add_army_professionalism = 0.2
			add_country_modifier = { name = one_v_one_mission_s1_3_ivf_bonus_2_modifier duration = 3650 }
		}
	}
}
one_v_one_mission_s1_5_ivf_bonus = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		tag = IVF
	}
	has_country_shield = yes

	one_v_one_mission_s1_5_ivf_bonus_3 = {
		icon = mission_early_modern_university
		required_missions = { one_v_one_mission_s1_construct_ivf }
		position = 3
		trigger = {
			adm_tech = 10
		}
		effect = {
			random_list = {
				10 = {
					add_adm_power = 800
				}
				10 = {
					add_dip_power = 800
				}
				10 = {
					add_mil_power = 800
				}
			}
		}
	}
}
##
one_v_one_mission_s1_1_ivt_bonus = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		tag = IVT
	}
	has_country_shield = yes

	one_v_one_mission_s1_1_ivt_bonus_1 = {
		icon = reform_the_monte
		required_missions = { one_v_one_mission_s1_construct_ivt }
		position = 3
		provinces_to_highlight = {
			province_id = 73
			NOT = { num_of_times_expanded_infrastructure = 1 }
			has_courthouse_building_trigger = no
			NOT = { base_production = 12 }
		}
		trigger = {
			73 = { base_production = 12 has_courthouse_building_trigger = yes num_of_times_expanded_infrastructure = 1 }
		}
		effect = {
			add_treasury = 1000
			73 = { add_base_manpower = 5 add_province_modifier = { name = one_v_one_mission_s1_1_ivt_bonus_1_modifier duration = -1 } }
			add_country_modifier = { name = one_v_one_mission_s1_1_ivt_bonus_11_modifier duration = -1 }
		}
	}
}
one_v_one_mission_s1_3_ivt_bonus = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		tag = IVT
	}
	has_country_shield = yes

	one_v_one_mission_s1_3_ivt_bonus_2 = {
		icon = unify_piedmont
		required_missions = { one_v_one_mission_s1_construct_ivt }
		position = 3
		provinces_to_highlight = {
			has_terrain = mountain
			OR = { owned_by = IGE owned_by = IGS owned_by = IGL owned_by = IGT owned_by = IGP }
			NOT = { controlled_by = ROOT }
		}
		trigger = {
			any_province = {
				OR = { owned_by = IGE owned_by = IGS owned_by = IGL owned_by = IGT owned_by = IGP }
				has_terrain = mountain
				controlled_by = ROOT
			}
		}
		effect = {
			custom_tooltip = one_v_one_mission_s1_3_ivt_bonus_2_tt
			hidden_effect = { every_owned_province = { limit = {has_terrain = mountain } add_province_modifier = { name = one_v_one_mission_s1_3_ivt_bonus_2_modifier duration = -1 } } }
		}
	}
}
one_v_one_mission_s1_5_ivt_bonus = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		tag = IVT
	}
	has_country_shield = yes

	one_v_one_mission_s1_5_ivt_bonus_3 = {
		icon = alpine_defenses
		required_missions = { one_v_one_mission_s1_construct_ivt }
		position = 3
		provinces_to_highlight = {
			province_id = 4722
			has_fort_building_trigger = no
			has_manpower_building_trigger = no
			has_forcelimit_building_trigger = no
			has_tax_building_trigger = no
		}
		trigger = {
			4722 = { has_fort_building_trigger = yes has_manpower_building_trigger = yes has_forcelimit_building_trigger = yes has_tax_building_trigger = yes }
		}
		effect = {
			add_country_modifier = { name = one_v_one_mission_s1_5_ivt_bonus_3_modifier duration = -1 }
			define_general = { fire = 5 shock = 6 manuever = 3 siege = 3 trait = siege_specialist_personality }
		}
	}
}
##
one_v_one_mission_s1_1_ivd_bonus = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		tag = IVD
	}
	has_country_shield = yes

	one_v_one_mission_s1_1_ivd_bonus_1 = {
		icon = mission_raid_on_venice
		required_missions = { one_v_one_mission_s1_construct_ivd }
		position = 3
		trigger = {
			navy_size = 40
		}
		effect = {
			add_country_modifier = { name = one_v_one_mission_s1_1_ivd_bonus_1_modifier duration = -1 }
			custom_tooltip = one_v_one_mission_s1_1_ivd_bonus_1_tt
			hidden_effect = { 
				if = {
					limit = { any_owned_province = { has_building = coastal_defence } }
					every_owned_province = { limit = { has_building = coastal_defence } add_building = naval_battery }
				}
				else = { random_owned_province = { add_building = naval_battery } }
			}
		}
	}
}
one_v_one_mission_s1_3_ivd_bonus = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		tag = IVD
	}
	has_country_shield = yes

	one_v_one_mission_s1_3_ivd_bonus_2 = {
		icon = mission_war_chest
		required_missions = { one_v_one_mission_s1_construct_ivd }
		position = 3
		trigger = {
			is_at_war = yes
			OR = { war_score = 50 NOT = { war_score = -51 } }
			treasury = 2000
			NOT = { num_of_loans = 1 }
		}
		effect = {
			add_treasury = 1000
			add_manpower = 10
		}
	}
}
one_v_one_mission_s1_5_ivd_bonus = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		NOT = { map_setup = map_setup_random }
		tag = IVD
	}
	has_country_shield = yes

	one_v_one_mission_s1_5_ivd_bonus_3 = {
		icon = invest_in_the_rich_trades
		required_missions = { one_v_one_mission_s1_construct_ivd }
		position = 3
		trigger = {
			total_development = 510
		}
		effect = {
			add_country_modifier = { name = one_v_one_mission_s1_5_ivd_bonus_3_modifier duration = -1 }
		}
	}
}